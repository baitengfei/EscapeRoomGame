{"version":3,"sources":["file:///Users/baitengfei/code/EscapeRoom/EscapeRoomMVP/assets/Scripts/Data/Scene_S2.ts"],"names":["_decorator","Node","Animation","EventManager","SceneManager","SoundManager","UIManager","UIType","GameData","EventEnum","SceneBase","ccclass","property","Scene_S2","type","start","mMainScene","active","mTrigger_Drawer","mNode_OpenedDrawer","update","deltaTime","show","showScene","ins","mUserData","mbOpenDrawer","mNode_OpenDrawer","mTrigger_Watch","mbGetItem_Watch","hide","hideScene","hideAll","ToMainScene","OnClickLeftTrigger","Instance","GoLeftScene","ClickDrawer","mbUnlockDrawer","SaveBaseData","getComponent","play","ShowTips","PlaySound","mbLockDrawerTips","ClickWatch","dispatch","UpdateItem","openUI","Bag","onEnable","onDisable"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, tween, Sprite, color, Color, UIOpacity, UIMeshRenderer, Animation } from 'cc';\nimport { EventManager } from '../Manager/EventManager';\nimport { SceneManager } from '../Manager/SceneManager';\nimport { SoundManager } from '../Manager/SoundManager';\nimport { UIManager, UIType } from '../Manager/UIManager';\nimport { GameData } from './GameData';\nimport { EventEnum } from './GameEnum';\nimport { SceneBase } from './SceneBase';\nconst { ccclass, property } = _decorator;\n\n@ccclass('Scene_S2')\nexport class Scene_S2 extends SceneBase {\n    @property({type:Node})\n    mMainScene:Node;\n\n\n    @property({type:Node})\n    mTrigger_Drawer:Node;\n\n    @property({type:Node})\n    mNode_OpenDrawer:Node;\n\n    @property({type:Node})\n    mNode_OpenedDrawer:Node;\n\n    @property({type:Node})\n    mTrigger_Watch:Node;\n\n\n    start() {\n        this.mMainScene.active = false;\n      \n      \n        this.mTrigger_Drawer.active = false;\n        this.mNode_OpenedDrawer.active = false;\n       \n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    show() {\n        \n        this.showScene(this.mMainScene);   \n        this.mTrigger_Drawer.active = !GameData.ins().mUserData.mbOpenDrawer;\n        this.mNode_OpenDrawer.active = false;\n        this.mNode_OpenedDrawer.active = GameData.ins().mUserData.mbOpenDrawer;\n\n        this.mTrigger_Watch.active = GameData.ins().mUserData.mbOpenDrawer && !GameData.ins().mUserData.mbGetItem_Watch;\n\n       \n        \n    }\n    hide() {\n        this.hideScene(this.mMainScene);\n    }\n    hideAll() {\n        this.mMainScene.active = false;\n  \n    }\n    ToMainScene() {\n  \n        this.show();\n    }\n\n    OnClickLeftTrigger() {\n        SceneManager.Instance.GoLeftScene();\n    }\n    \n    \n    ClickDrawer() {\n        if(GameData.ins().mUserData.mbUnlockDrawer) {\n            GameData.ins().mUserData.mbOpenDrawer = true;\n            GameData.ins().SaveBaseData();\n\n            this.mTrigger_Drawer.active = false;\n            this.mNode_OpenDrawer.active = true;\n            this.mNode_OpenDrawer.getComponent(Animation).play();\n            this.mTrigger_Watch.active = true;\n\n            UIManager.Instance.ShowTips(\"打开了抽屉\");\n            SoundManager.Instance.PlaySound(\"drawer\", 1);\n\n\n        }\n        else {\n            UIManager.Instance.ShowTips(\"抽屉是锁的\");\n            GameData.ins().mUserData.mbLockDrawerTips = true;\n        \n        }\n       \n        \n           \n    }\n\n    ClickWatch() {\n        GameData.ins().mUserData.mbGetItem_Watch = true;\n        GameData.ins().SaveBaseData();\n        \n        this.mTrigger_Watch.active = false;\n        EventManager.dispatch(EventEnum.UpdateItem);\n\n        UIManager.Instance.ShowTips(\"一个智能手表\");\n        UIManager.Instance.openUI(UIType.Bag);\n    }\n\n   \n\n    onEnable() {\n    }\n\n    onDisable() {\n    }\n\n\n\n    \n\n}\n\n"]}