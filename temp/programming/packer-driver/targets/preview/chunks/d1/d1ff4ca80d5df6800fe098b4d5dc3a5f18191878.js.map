{"version":3,"sources":["file:///Users/baitengfei/code/EscapeRoom/EscapeRoomMVP/assets/Scripts/Manager/GameManager.ts"],"names":["Component","_decorator","macro","SoundManager","UIManager","UIType","GameData","SceneManager","ccclass","property","GameManager","onLoad","Instance","ENABLE_MULTI_TOUCH","console","log","start","PlayBGM","openUI","Main","StartGame","closeUI","Dialogue","ins","mUserData","isFirstLoign","SaveBaseData","ContinueGame","ShowScene","RestartGame","InitData","InitScene","Game","mbGetItem_Phone","mbGetItem_Key","mbGetItem_Watch","Bag"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,S,OAAAA,S;AAAWC,MAAAA,U,OAAAA,U;AAAYC,MAAAA,K,OAAAA,K;;AACvBC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,S,iBAAAA,S;AAAWC,MAAAA,M,iBAAAA,M;;AACXC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBR,U;;6BAGjBS,W,WADZF,OAAO,CAAC,aAAD,C,2BAAR,MACaE,WADb,SACiCV,SADjC,CAC2C;AAGvCW,QAAAA,MAAM,GAAG;AACLD,UAAAA,WAAW,CAACE,QAAZ,GAAuB,IAAvB;AACAV,UAAAA,KAAK,CAACW,kBAAN,GAA2B,KAA3B;AACAC,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBb,KAAK,CAACW,kBAA3B;AAEH;;AAEDG,QAAAA,KAAK,GAAG;AACJ;AAAA;AAAA,4CAAaJ,QAAb,CAAsBK,OAAtB,CAA8B,MAA9B;AACA;AAAA;AAAA,sCAAUL,QAAV,CAAmBM,MAAnB,CAA0B;AAAA;AAAA,gCAAOC,IAAjC;AAEAL,UAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AAEH;;AAEDK,QAAAA,SAAS,GAAG;AACR;AAAA;AAAA,sCAAUR,QAAV,CAAmBS,OAAnB,CAA2B;AAAA;AAAA,gCAAOF,IAAlC;AACA;AAAA;AAAA,sCAAUP,QAAV,CAAmBM,MAAnB,CAA0B;AAAA;AAAA,gCAAOI,QAAjC;AAEAR,UAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAEA;AAAA;AAAA,oCAASQ,GAAT,GAAeC,SAAf,CAAyBC,YAAzB,GAAwC,KAAxC;AACA;AAAA;AAAA,oCAASF,GAAT,GAAeG,YAAf;AACH;;AAEDC,QAAAA,YAAY,GAAG;AACX;AAAA;AAAA,sCAAUf,QAAV,CAAmBS,OAAnB,CAA2B;AAAA;AAAA,gCAAOF,IAAlC;AACA,eAAKS,SAAL;AAEH;;AAEDC,QAAAA,WAAW,GAAG;AACV;AAAA;AAAA,oCAASN,GAAT,GAAeO,QAAf;AACA;AAAA;AAAA,oCAASP,GAAT,GAAeG,YAAf;AACA,eAAKN,SAAL;AAEH;;AAEDQ,QAAAA,SAAS,GAAG;AACR;AAAA;AAAA,4CAAahB,QAAb,CAAsBmB,SAAtB;AACA;AAAA;AAAA,sCAAUnB,QAAV,CAAmBM,MAAnB,CAA0B;AAAA;AAAA,gCAAOc,IAAjC,EAFQ,CAGR;;AACA,cAAI;AAAA;AAAA,oCAAST,GAAT,GAAeC,SAAf,CAAyBS,eAAzB,IACD;AAAA;AAAA,oCAASV,GAAT,GAAeC,SAAf,CAAyBU,aADxB,IAED;AAAA;AAAA,oCAASX,GAAT,GAAeC,SAAf,CAAyBW,eAF5B,EAE6C;AACzC;AAAA;AAAA,wCAAUvB,QAAV,CAAmBM,MAAnB,CAA0B;AAAA;AAAA,kCAAOkB,GAAjC;AACH;AACJ;;AAlDsC,O,UACzBxB,Q,GAAuB,I","sourcesContent":["import { Component, _decorator, macro } from 'cc';\nimport { SoundManager } from './SoundManager';\nimport { UIManager, UIType } from './UIManager';\nimport { GameData } from '../Data/GameData';\nimport { SceneManager } from './SceneManager'; \n\nconst { ccclass, property } = _decorator;\n\n@ccclass('GameManager')\nexport class GameManager extends Component {\n    public static Instance:GameManager = null!;\n\n    onLoad() {\n        GameManager.Instance = this;\n        macro.ENABLE_MULTI_TOUCH = false;\n        console.log(\"多点触控：\", macro.ENABLE_MULTI_TOUCH);\n    \n    }\n\n    start() {\n        SoundManager.Instance.PlayBGM(\"bgm2\");\n        UIManager.Instance.openUI(UIType.Main);\n\n        console.log(\"开始进入游戏了\");\n    \n    }\n\n    StartGame() {\n        UIManager.Instance.closeUI(UIType.Main);\n        UIManager.Instance.openUI(UIType.Dialogue);\n\n        console.log(\"开始游戏了\");\n    \n        GameData.ins().mUserData.isFirstLoign = false;\n        GameData.ins().SaveBaseData();\n    }\n\n    ContinueGame() {\n        UIManager.Instance.closeUI(UIType.Main);\n        this.ShowScene();\n    \n    }\n\n    RestartGame() {\n        GameData.ins().InitData();\n        GameData.ins().SaveBaseData();\n        this.StartGame();\n    \n    }\n\n    ShowScene() {\n        SceneManager.Instance.InitScene();\n        UIManager.Instance.openUI(UIType.Game);\n        // 检测背包中是否有东西，如果有就打开背包\n        if (GameData.ins().mUserData.mbGetItem_Phone \n        || GameData.ins().mUserData.mbGetItem_Key\n        || GameData.ins().mUserData.mbGetItem_Watch) {\n            UIManager.Instance.openUI(UIType.Bag);\n        }\n    }\n}"]}