{"version":3,"sources":["file:///Users/baitengfei/code/EscapeRoom/EscapeRoomMVP/assets/Scripts/UI/UI_Item_Watch.ts"],"names":["_decorator","UIBase","GameData","EventEnum","EventManager","SceneManager","ccclass","property","UI_Item_Watch","mLabel_Info","onStart","getLabel","Btn_Close","getNode","on","OnClickClose","refresh","string","Instance","mCurrentSceneIndex","ins","mUserData","mbGetItem_Watch","mbUnlockDoor","SaveBaseData","ToOpenDoor","dispatch","OpenDoor","onEnable","onDisable","close"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;;AACAC,MAAAA,M,iBAAAA,M;;AACAC,MAAAA,Q,iBAAAA,Q;;AACAC,MAAAA,S,iBAAAA,S;;AACAC,MAAAA,Y,iBAAAA,Y;;AACAC,MAAAA,Y,iBAAAA,Y;;;;;;;;;OAEH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;+BAGjBQ,a,WADZF,OAAO,CAAC,eAAD,C,gBAAR,MACaE,aADb;AAAA;AAAA,4BAC0C;AAAA;AAAA;AAAA,eAEtCC,WAFsC;AAAA;;AAItCC,QAAAA,OAAO,GAAG;AACN,eAAKD,WAAL,GAAmB,KAAKE,QAAL,CAAc,WAAd,CAAnB;AACA,cAAIC,SAAS,GAAG,KAAKC,OAAL,CAAa,WAAb,CAAhB;AACAD,UAAAA,SAAS,CAACE,EAAV,CAAa,OAAb,EAAsB,KAAKC,YAA3B,EAAyC,IAAzC;AACH;;AAEDC,QAAAA,OAAO,GAAG;AAEN,eAAKP,WAAL,CAAiBQ,MAAjB,GAA0B,cAA1B;;AAEA,cAAI;AAAA;AAAA,4CAAaC,QAAb,CAAsBC,kBAAtB,IAA4C,CAAhD,EAAoD;AAChD,gBAAI;AAAA;AAAA,sCAASC,GAAT,GAAeC,SAAf,CAAyBC,eAA7B,EAA8C;AAC1C;AAAA;AAAA,wCAASF,GAAT,GAAeC,SAAf,CAAyBE,YAAzB,GAAwC,IAAxC;AACA;AAAA;AAAA,wCAASH,GAAT,GAAeI,YAAf;AAEA,mBAAKC,UAAL;AACH;AAEJ;AACJ;;AAIDA,QAAAA,UAAU,GAAG;AACT,cAAI;AAAA;AAAA,4CAAaP,QAAb,CAAsBC,kBAAtB,IAA4C,CAAhD,EAAmD;AAC/C;AAAA;AAAA,8CAAaO,QAAb,CAAsB;AAAA;AAAA,wCAAUC,QAAhC;AACH;AACJ;;AAIDC,QAAAA,QAAQ,GAAG,CAEV;;AAEDC,QAAAA,SAAS,GAAG,CAEX;;AAEDd,QAAAA,YAAY,GAAG;AACX,eAAKe,KAAL;AACH;;AA7CqC,O","sourcesContent":["import { _decorator, Component, Node, Label } from 'cc';\nimport { UIBase } from '../Base/UIBase';\nimport { GameData } from '../Data/GameData';\nimport { EventEnum } from '../Data/GameEnum';\nimport { EventManager } from '../Manager/EventManager';\nimport { SceneManager } from '../Manager/SceneManager';\nimport { SoundManager } from '../Manager/SoundManager';\nconst { ccclass, property } = _decorator;\n\n@ccclass('UI_Item_Watch')\nexport class UI_Item_Watch extends UIBase {\n\n    mLabel_Info:Label;\n\n    onStart() {\n        this.mLabel_Info = this.getLabel(\"Info/Info\");\n        let Btn_Close = this.getNode(\"Btn_Close\");\n        Btn_Close.on(\"click\", this.OnClickClose, this);\n    }\n\n    refresh() {\n\n        this.mLabel_Info.string = \"一个智能手表，身份ID？\";\n\n        if (SceneManager.Instance.mCurrentSceneIndex == 2 ) {\n            if (GameData.ins().mUserData.mbGetItem_Watch) {\n                GameData.ins().mUserData.mbUnlockDoor = true;\n                GameData.ins().SaveBaseData();\n\n                this.ToOpenDoor();\n            }\n           \n        }\n    }\n\n \n\n    ToOpenDoor() {\n        if (SceneManager.Instance.mCurrentSceneIndex == 2) {\n            EventManager.dispatch(EventEnum.OpenDoor);\n        }\n    }\n\n\n\n    onEnable() {\n\n    }\n\n    onDisable() {\n\n    }\n\n    OnClickClose() {\n        this.close();\n    }\n}\n\n"]}