{"version":3,"sources":["file:///Users/baitengfei/code/EscapeRoom/EscapeRoomMVP/assets/Scripts/Data/SceneBase.ts"],"names":["_decorator","Component","UIOpacity","tween","SceneInfo","ccclass","property","SceneBase","start","update","deltaTime","show","hide","hideAll","ToMainScene","showScene","sceneNode","getComponent","mbHide","active","setPosition","uiOpacity","opacity","to","hideScene","call"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;;AACxCC,MAAAA,S,iBAAAA,S;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;2BAGjBO,S,WADZF,OAAO,CAAC,WAAD,C,gBAAR,MACaE,SADb,SAC+BN,SAD/B,CACyC;AAErCO,QAAAA,KAAK,GAAG,CAEP;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AAEDC,QAAAA,IAAI,GAAG,CAEN;;AAEDC,QAAAA,IAAI,GAAG,CAEN;;AAEDC,QAAAA,OAAO,GAAG,CAET;;AAEDC,QAAAA,WAAW,GAAG,CAEb;;AAEDC,QAAAA,SAAS,CAACC,SAAD,EAAiB;AACtBA,UAAAA,SAAS,CAACC,YAAV;AAAA;AAAA,sCAAkCC,MAAlC,GAA2C,KAA3C;AAEAF,UAAAA,SAAS,CAACG,MAAV,GAAmB,IAAnB;AACAH,UAAAA,SAAS,CAACI,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AAEA,cAAIC,SAAS,GAAGL,SAAS,CAACC,YAAV,CAAuBf,SAAvB,CAAhB;AACAmB,UAAAA,SAAS,CAACC,OAAV,GAAoB,CAApB;AAEAnB,UAAAA,KAAK,CAACkB,SAAD,CAAL,CACCE,EADD,CACI,CADJ,EACO;AAACD,YAAAA,OAAO,EAAE;AAAV,WADP,EAECd,KAFD;AAGH;;AACDgB,QAAAA,SAAS,CAACR,SAAD,EAAiB;AACtBA,UAAAA,SAAS,CAACC,YAAV;AAAA;AAAA,sCAAkCC,MAAlC,GAA2C,IAA3C;AAEA,cAAIG,SAAS,GAAGL,SAAS,CAACC,YAAV,CAAuBf,SAAvB,CAAhB;AACAmB,UAAAA,SAAS,CAACC,OAAV,GAAoB,GAApB;AAEAnB,UAAAA,KAAK,CAACkB,SAAD,CAAL,CACCE,EADD,CACI,CADJ,EACO;AAACD,YAAAA,OAAO,EAAE;AAAV,WADP,EAECG,IAFD,CAEM,MAAI;AACN,gBAAIT,SAAS,CAACC,YAAV;AAAA;AAAA,wCAAkCC,MAAtC,EAA8C;AAC1CF,cAAAA,SAAS,CAACG,MAAV,GAAmB,KAAnB;AACH;AACJ,WAND,EAOCX,KAPD;AAQH;;AArDoC,O","sourcesContent":["import { _decorator, Component, Node, UIOpacity, tween } from 'cc';\nimport { SceneInfo } from './SceneInfo';\nconst { ccclass, property } = _decorator;\n\n@ccclass('SceneBase')\nexport class SceneBase extends Component {\n\n    start() {\n\n    }\n\n    update(deltaTime: number) {\n        \n    }\n\n    show() {\n\n    }\n\n    hide() {\n\n    }\n\n    hideAll() {\n\n    }\n\n    ToMainScene() {\n\n    }\n    \n    showScene(sceneNode:Node) { \n        sceneNode.getComponent(SceneInfo).mbHide = false;\n\n        sceneNode.active = true;\n        sceneNode.setPosition(0, 0, 0);\n\n        let uiOpacity = sceneNode.getComponent(UIOpacity);\n        uiOpacity.opacity = 0;\n\n        tween(uiOpacity)\n        .to(1, {opacity: 255})\n        .start();\n    }\n    hideScene(sceneNode:Node) {\n        sceneNode.getComponent(SceneInfo).mbHide = true;\n\n        let uiOpacity = sceneNode.getComponent(UIOpacity);\n        uiOpacity.opacity = 255;\n\n        tween(uiOpacity)\n        .to(1, {opacity: 0})\n        .call(()=>{\n            if (sceneNode.getComponent(SceneInfo).mbHide) {\n                sceneNode.active = false;\n            }\n        })\n        .start();\n    }\n}\n\n"]}